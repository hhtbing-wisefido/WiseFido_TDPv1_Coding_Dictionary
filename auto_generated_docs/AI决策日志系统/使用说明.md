# AI 决策日志系统使用说明

## 📚 目录结构

```
AI决策日志系统/
├── 使用说明.md          ← 当前文件
├── 项目决策日志.md      ← 记录所有重要决策
└── 开发会话笔记.md      ← 记录每次开发会话
```

---

## 🎯 系统目的

解决 AI 没有持久记忆的问题，确保：
- ✅ AI 能快速恢复项目上下文
- ✅ 用户不需要记住所有细节
- ✅ 决策可追溯、可审查
- ✅ 新开发者能快速了解项目历史

---

## 📖 文档说明

### 1. 项目决策日志.md

**用途**: 记录所有重要的技术决策

**包含内容**:
- 决策背景和原因
- 讨论的备选方案
- 最终决定和理由
- 实施影响
- 相关 Git Commit

**更新时机**:
- 做出重要技术选型时（如选择 FastAPI）
- 改变项目架构时（如 Schema 重构）
- 废弃之前的决策时

**维护者**: AI（GitHub Copilot）在用户确认后自动更新

---

### 2. 开发会话笔记.md

**用途**: 记录每次开发会话的进度和状态

**包含内容**:
- 会话目标和实际完成
- 关键发现和问题
- 下次继续的事项
- Git 提交记录

**更新时机**:
- 每次开发会话结束时

**维护者**: AI（GitHub Copilot）自动记录

---

## 🚀 使用场景

### 场景 1: 开始新的开发会话

**用户**: "继续"

**AI 操作**:
1. 读取 `开发会话笔记.md`
2. 查看"下次继续"部分
3. 确认当前状态
4. 开始工作

```
AI: "我看到上次完成了 Day 1，现在开始 Day 2 Docker 化？"
```

---

### 场景 2: 质疑某个设计决策

**用户**: "为什么选择 FastAPI？"

**AI 操作**:
1. 查看 `项目决策日志.md`
2. 找到相关决策记录
3. 解释原因和讨论过程

```
AI: "根据决策 #001，选择 FastAPI 是因为：
- 自动生成 OpenAPI 文档
- Pydantic 数据验证
- 异步支持
用户在 2025-11-12 确认，Git Commit: d64c3b5"
```

---

### 场景 3: 做出新的重要决策

**流程**:
1. AI 提出建议
2. 用户讨论并确认
3. AI 更新 `项目决策日志.md`
4. 实施变更
5. 提交 Git（包含文档更新）

---

### 场景 4: 会话结束

**用户**: "今天到这里"

**AI 操作**:
1. 更新 `开发会话笔记.md`
2. 记录本次完成内容
3. 记录下次继续事项
4. 提交 Git

---

## 💡 最佳实践

### ✅ DO（推荐做法）

- **会话开始前**: 让 AI 读取 `开发会话笔记.md`
- **重要决策后**: 确保 AI 更新 `项目决策日志.md`
- **会话结束时**: 确认 AI 更新会话记录
- **质疑决策时**: 要求 AI 查看决策日志

### ❌ DON'T（避免做法）

- **不要手动编辑**: 这些文档由 AI 自动维护
- **不要跳过记录**: 每次重要决策都应记录
- **不要依赖记忆**: 始终查阅文档确认

---

## 📝 职责划分

| 角色 | 职责 |
|------|------|
| **用户** | 做决策、提供反馈、确认方案 |
| **AI** | 记录决策、更新文档、恢复上下文 |

**用户不需要记录任何东西！** 这是 AI 的工作。

---

## 🔄 文档维护流程

```
重要决策
    ↓
用户确认
    ↓
AI 更新 项目决策日志.md
    ↓
实施变更
    ↓
Git Commit（包含文档更新）
    ↓
会话结束时
    ↓
AI 更新 开发会话笔记.md
    ↓
Git Commit
```

---

## 📊 与其他文档的关系

| 文档 | 用途 | 更新方式 |
|------|------|---------|
| `项目决策日志.md` | 记录"为什么这样做" | AI 手动维护 |
| `开发会话笔记.md` | 记录"做到哪里了" | AI 自动更新 |
| `changelog.md` | 记录数据变更（词条增删改） | 脚本自动生成 |
| `Git Commit` | 记录代码变更 | Git 自动记录 |

**互补关系**: 决策日志提供原因，会话笔记提供进度，changelog 提供数据历史

---

## ❓ 常见问题

### Q1: 我需要手动记录吗？
**A**: ❌ 不需要！这是 AI 的责任。

### Q2: 如果 AI 忘记记录怎么办？
**A**: 提醒 AI："记得更新决策日志"

### Q3: 这些文档会提交到 Git 吗？
**A**: ✅ 会，它们是项目的重要组成部分。

### Q4: 多久清理一次？
**A**: 不需要清理，这些是永久记录。

---

## 🎯 成功标准

系统运作良好的标志：
- ✅ AI 能快速回答"上次做了什么"
- ✅ AI 能解释"为什么这样做"
- ✅ 用户不需要重复说明上下文
- ✅ 新会话可以无缝继续

---

**创建日期**: 2025-11-13  
**维护者**: AI (GitHub Copilot)  
**版本**: v1.0
